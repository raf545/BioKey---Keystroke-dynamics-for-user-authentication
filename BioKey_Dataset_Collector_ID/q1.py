# Form implementation generated from reading ui file 'q1.ui'
#
# Created by: PyQt6 UI code generator 6.2.3
#
# WARNING: Any manual changes made to this file will be lost when pyuic6 is
# run again.  Do not edit this file unless you know what you are doing.


from itertools import count
from PyQt6 import QtCore, QtGui, QtWidgets
from helperMethods import Helper
import questions as quest
from threading import Thread
from pynput.keyboard import Controller, Key
from keyboardFeatureExtraction import keyboardFeatureExtraction

count = 0
class Ui_Q1(object):

    def __init__(self,listener,keboardfetureextractor) -> None:
        self.kfi = keboardfetureextractor
        self.listener = listener

    def setupUi(self, Q1):
        _translate = QtCore.QCoreApplication.translate
        Q1.setObjectName("Q1")
        Q1.resize(681, 412)
        self.verticalLayoutWidget = QtWidgets.QWidget(Q1)
        self.verticalLayoutWidget.setGeometry(QtCore.QRect(10, 10, 661, 391))
        self.verticalLayoutWidget.setObjectName("verticalLayoutWidget")
        self.verticalLayout = QtWidgets.QVBoxLayout(self.verticalLayoutWidget)
        self.verticalLayout.setContentsMargins(0, 0, 0, 0)
        self.verticalLayout.setObjectName("verticalLayout")
        self.horizontalLayout = QtWidgets.QHBoxLayout()
        self.horizontalLayout.setObjectName("horizontalLayout")
        self.label = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label.setFont(font)
        self.label.setObjectName("label")
        self.horizontalLayout.addWidget(self.label)
        self.Q1QuestionNumber = QtWidgets.QLabel(self.verticalLayoutWidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Policy.Expanding, QtWidgets.QSizePolicy.Policy.Expanding)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.Q1QuestionNumber.sizePolicy().hasHeightForWidth())
        self.Q1QuestionNumber.setSizePolicy(sizePolicy)
        font = QtGui.QFont()
        font.setPointSize(36)
        self.Q1QuestionNumber.setFont(font)
        self.Q1QuestionNumber.setLayoutDirection(QtCore.Qt.LayoutDirection.LeftToRight)
        self.Q1QuestionNumber.setAlignment(QtCore.Qt.AlignmentFlag.AlignRight|QtCore.Qt.AlignmentFlag.AlignTrailing|QtCore.Qt.AlignmentFlag.AlignVCenter)
        self.Q1QuestionNumber.setObjectName("Q1QuestionNumber")
        self.horizontalLayout.addWidget(self.Q1QuestionNumber)
        self.verticalLayout.addLayout(self.horizontalLayout)
        self.line = QtWidgets.QFrame(self.verticalLayoutWidget)
        self.line.setFrameShape(QtWidgets.QFrame.Shape.HLine)
        self.line.setFrameShadow(QtWidgets.QFrame.Shadow.Sunken)
        self.line.setObjectName("line")
        self.verticalLayout.addWidget(self.line)
        self.Q1QuestionTheme = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.Q1QuestionTheme.setFont(font)
        self.Q1QuestionTheme.setObjectName("Q1QuestionTheme")
        self.verticalLayout.addWidget(self.Q1QuestionTheme)
        self.Q1QuestionCube = QtWidgets.QTextBrowser(self.verticalLayoutWidget)
        self.Q1QuestionCube.setObjectName("Q1QuestionCube")
        self.verticalLayout.addWidget(self.Q1QuestionCube)
        self.horizontalLayout_2 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_2.setObjectName("horizontalLayout_2")
        self.label_4 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.label_4.setFont(font)
        self.label_4.setObjectName("label_4")
        self.horizontalLayout_2.addWidget(self.label_4)
        self.label_3 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setUnderline(True)
        font.setWeight(75)
        self.label_3.setFont(font)
        self.label_3.setAlignment(QtCore.Qt.AlignmentFlag.AlignRight|QtCore.Qt.AlignmentFlag.AlignTrailing|QtCore.Qt.AlignmentFlag.AlignVCenter)
        self.label_3.setObjectName("label_3")
        self.horizontalLayout_2.addWidget(self.label_3)
        self.charCountLabale = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setPointSize(10)
        font.setBold(True)
        font.setUnderline(True)
        font.setWeight(75)
        self.charCountLabale.setFont(font)
        self.charCountLabale.setLayoutDirection(QtCore.Qt.LayoutDirection.LeftToRight)
        self.charCountLabale.setAlignment(QtCore.Qt.AlignmentFlag.AlignCenter)
        self.charCountLabale.setObjectName("charCountLabale")
        self.horizontalLayout_2.addWidget(self.charCountLabale)
        self.verticalLayout.addLayout(self.horizontalLayout_2)
        self.Q1TextInputCube = QtWidgets.QPlainTextEdit(self.verticalLayoutWidget)
        self.Q1TextInputCube.setObjectName("Q1TextInputCube")
        self.verticalLayout.addWidget(self.Q1TextInputCube)
        self.Q1NextButton = QtWidgets.QPushButton(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.Q1NextButton.setFont(font)
        self.Q1NextButton.setCursor(QtGui.QCursor(QtCore.Qt.CursorShape.PointingHandCursor))
        self.Q1NextButton.setObjectName("Q1NextButton")
        self.verticalLayout.addWidget(self.Q1NextButton)

        self.retranslateUi(Q1)
        QtCore.QMetaObject.connectSlotsByName(Q1)
        self.charCountLabale.setText(_translate("Q1","150"))
        self.Q1NextButton.clicked.connect(self.nextQ)
        self.kfi.setQui(self)

    def setCountLable(self,num):
        _translate = QtCore.QCoreApplication.translate
        self.charCountLabale.setText(_translate("Q1",str(num)))
        
    def nextQ(self):
        global count
        if Helper.checkTextField(typing=self.Q1TextInputCube.toPlainText()):
            self.kfi.preProcessing()
            self.kfi.__init__()
            self.setCountLable(150)
            self.kfi.setQui(self)
            _translate = QtCore.QCoreApplication.translate
            if count < 4 :
                self.Q1QuestionNumber.setText(_translate("Q1", quest.questionNumber[count]))
                self.Q1QuestionTheme.setText(_translate("Q1", quest.questionTheme[count]))
                self.Q1QuestionCube.setHtml(_translate("Q1", quest.questionCube[count]))
            else:
                keyboard = Controller()
                self.listener.join()

            count += 1
            self.Q1TextInputCube.clear()
        else:
            Helper.popupWinError("Answer is to short please elabrate more")
            
    def retranslateUi(self, Q1):
        _translate = QtCore.QCoreApplication.translate
        Q1.setWindowTitle(_translate("Q1", "Dialog"))
        self.label.setText(_translate("Q1", "Answer the questions below"))
        self.Q1QuestionNumber.setText(_translate("Q1", "Q1"))
        self.Q1QuestionTheme.setText(_translate("Q1", "Describe why you chose to learn in ort braude."))
        self.Q1QuestionCube.setHtml(_translate("Q1", "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0//EN\" \"http://www.w3.org/TR/REC-html40/strict.dtd\">\n"
"<html><head><meta name=\"qrichtext\" content=\"1\" /><style type=\"text/css\">\n"
"p, li { white-space: pre-wrap; }\n"
"</style></head><body style=\" font-family:\'MS Shell Dlg 2\'; font-size:8.25pt; font-weight:400; font-style:normal;\">\n"
"<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-family:\'.AppleSystemUIFont\'; font-size:13pt;\">Are you satisfied with your decision\\nto come to Ort Braude College?<br />In your experience what do you think is the most important quality in College?<br />Would you recommend Ort Braude College to high school and why?</span></p></body></html>"))
        self.label_4.setText(_translate("Q1", "Answer:"))
        self.label_3.setText(_translate("Q1", "Characters to completion:"))
        self.charCountLabale.setText(_translate("Q1", "TextLabel"))
        self.Q1NextButton.setText(_translate("Q1", "Next"))

